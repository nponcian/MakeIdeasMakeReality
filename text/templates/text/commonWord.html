{% extends "base.html" %}

{% block head %}

{% load static %}

<link rel="stylesheet" type="text/css" href="{% static 'text/css/common.css' %}">

<title>Common Words | MakeIdeasMakeReality</title>

{% endblock %}

{% block pageLabel %}

<div class="pageLabel jumbotron jumbotron-fluid" id="commonWord_pageLabel">
    <div class="container pt-5 text-center">
        <div class="display-3 pt-xs-3 pt-sm-5">
            Common Words
        </h1>
    </div>
</div>

{% endblock %}

{% block body %}

<!-- Form contains a file input thus the need for enctype='multipart/form-data' -->
<form class="m-4 serviceForm" method="POST" action="." enctype='multipart/form-data' data-url="/service/text/commonword/api/" data-result="#countedWords"> {% csrf_token %}
    <button class="btn btn-primary btn-lg" type="submit" id="countButton">Count</button>

    <div class="form-row mt-3">
        <div class="col-sm-7 col-md-5 col-lg-4 col-xl-3 custom-file">
            <input id="fileInput" class="custom-file-input" type="file" name="file">
            <label class="custom-file-label text-truncate" for="fileInput">Choose file...</label>
        </div>
    </div>

    <div class="form-row mt-3">
        <div class="col-sm-7 col-md-5 col-lg-4 col-xl-3 input-group">
            <div class="input-group-prepend">
                <span class="input-group-text font-weight-bold">Order:</span>
                <span class="input-group-text d-none d-sm-block"><i class="fas fa-ruler-horizontal"></i></span>
            </div>
            <select id="order" class="custom-select" name="order">
                <option value="none">None</option>
                <option value="alphabetical">Alphabetical</option>
                <option value="increasing">Increasing</option>
                <option value="decreasing" selected>Decreasing</option>
            </select>
        </div>
    </div>

    <div class="form-row mt-3">
        <div class="col-sm-7 col-md-5 col-lg-4 col-xl-3 input-group">
            <div class="input-group-prepend">
                <span class="input-group-text font-weight-bold">Include:</span>
                <span class="input-group-text d-none d-sm-block"><i class="fas fa-ruler-horizontal"></i></span>
            </div>
            <select id="include" class="custom-select" name="include">
                <option value="all">All</option>
                <option value="letters">Letters</option>
                <option value="digits">Digits</option>
                <option value="letters_digits">Letters, Digits</option>
                <option value="letters_digits_connectorsymbols">Letters, Digits, Connectors</option>
                <option value="letters_digits_nonsplittersymbols" selected>Letters, Digits, Non-splitters</option>
            </select>
        </div>
    </div>

    <div class="d-md-flex mt-3">
        <div class="form-group flex-fill">
            <label for="wordsToCount" class="font-weight-bold h4">Words to count:</label>
            <textarea id="wordsToCount" class="form-control mimr-bg-lightgreen mimr-bg-focus-lightgreen" name="text" rows="15" placeholder="{{ wordsToCountPlaceholder }}">{{ wordsToCount }}</textarea>
        </div>

        <div class="form-group flex-fill position-relative">
            <label for="countedWords" class="font-weight-bold h4">Counted Words:</label>
            <textarea id="countedWords" class="form-control mimr-bg-lightpink mimr-bg-focus-lightpink" name="countedWords" rows="15" placeholder="" readonly contenteditable="true">{{ countedWords }}</textarea>
            <button class="btn btn-link mimr-btn-copy position-absolute" type="button" data-container="body" data-toggle="popover" data-placement="top" data-content="Copied! :)" data-timeout="2000" data-target="countedWords">Copy</button>
        </div>
    </div>
</form>

{% endblock %}
