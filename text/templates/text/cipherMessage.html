{% extends "base.html" %}

{% block head %}

{% load static %}

<link rel="stylesheet" type="text/css" href="{% static 'text/css/common.css' %}">

<title>Cipher Message | MakeIdeasMakeReality</title>

{% endblock %}

{% block pageLabel %}

<div class="pageLabel jumbotron jumbotron-fluid" id="cipherMessage_pageLabel">
    <div class="container pt-5 text-center">
        <div class="display-3 pt-xs-3 pt-sm-5">
            Cipher Message
        </h1>
    </div>
</div>

{% endblock %}

{% block body %}

<form class="m-4 serviceForm" method="POST" action="." data-url="/service/text/ciphermessage/api/" data-result="#formattedText"> {% csrf_token %}
    <div class="btn-group btn-group-lg" role="group" aria-label="Cipher method">
        <button type="submit" class="btn btn-info" name="encryptButton" value="encrypt">Encrypt <i class="fas fa-lock h3"></i></button>
        <button type="submit" class="btn btn-danger" name="decryptButton" value="decrypt">Decrypt <i class="fas fa-lock-open h3"></i></button>
    </div>

    <div class="form-row mt-3">
        <div class="col-sm-8 col-md-6 col-lg-4 col-xl-3 input-group">
            <div class="input-group-prepend">
                <span class="input-group-text font-weight-bold">Keycode</span>
                <span class="input-group-text"><i class="fas fa-key"></i></span>
            </div>
            <input type="text" name="keycode" value="{{ keycode }}" aria-label="Keycode" class="form-control">
        </div>
    </div>

    <div class="d-md-flex mt-3">
        <div class="form-group flex-fill">
            <label for="textToCipher" class="font-weight-bold h4">Text to cipher:</label>
            <textarea id="textToCipher" class="form-control mimr-bg-lightgreen mimr-bg-lightgreen-focus" name="textToCipher" type="text" rows="15" placeholder="{{ textToFormatPlaceholder }}" required>{{ textToCipher }}</textarea>
        </div>

        <div class="form-group flex-fill position-relative">
            <label for="formattedText" class="font-weight-bold h4">Ciphered text:</label>
            <textarea id="formattedText" class="form-control mimr-bg-lightpink mimr-bg-lightpink-focus" name="cipheredText" type="text" rows="15" placeholder="" readonly contenteditable="true">{{ cipheredText }}</textarea>
            <button class="btn btn-link mimr-btn-copy mimr-top-right position-absolute" type="button" data-container="body" data-toggle="popover" data-placement="top" data-content="Copied! :)" data-timeout="2000" data-target="formattedText">Copy</button>
        </div>
    </div>
</form>

{% endblock %}
